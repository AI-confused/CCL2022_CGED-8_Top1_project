# 数据预处理
## lang8
### V1版本
1. 由于lang8数据本身存在噪音，因此先后使用繁体转简体、清洗特殊字符串、清洗重复标点、清洗emoji等操作对原始数据进行清洗；
2. 剔除部分无效的样本，包含：1）src和correct长度差异过大；2）文本长度过短；3）中文字符占比<20%；
3. 存在部分样本的src和correct末尾标点缺失，这类样本的“M”标签不好处理，因此统一补上标点，剔除该错误点；
4. 使用初版的pair2edit文件，将lang8文件生成char级别的错误编辑；
### V2版本
1. 群里更新了pair2edit文件，因此基于V1版本的数据，使用新版本pair2edit文件生成新版本的编辑；

### lang8数据概况
| 总数     | 无错误样本数目|
|---------|-------------|
| 1102810 |  113055     |

## CGED历年数据集
### 处理策略
1. CGED历年数据集种类繁杂，有简体和繁体，因此需要统一将繁体转成简体，但有个比较明显的问题：“着”会被误转成“著”，这个占比不低，因此需要手动将误转的“著”换成“着”；

2. 2022届强调的错误点基于char级别，而历年数据集的错误点大多基于word级别，因此在训练任务之前使用官方提供的pair2edit文件进行转换，统一将char级别的错误标签替换掉word级别的错误标签。其中16年、17年、18年的测试集没有提供correct字段，无法使用pair2edit方法，因此沿用原本的错误标签即可；

3. 存在部分样例的标注有错误，删除部分标注问题较大的数据；

4. 清除文本长度过短的数据(<5或者<7)；

5. 部分样本在末尾缺少标点符号，这类错误对模型意义不大，因此补上了标点；

6. 将14年-18年的训练集和测试集作为历年数据领域的训练集，将20-21年的测试集作为训练任务的验证集；

7. v1版本为老版本pair2edit文件转换的错误标签，v2版本为新版本pair2edit文件转换的错误标签；

### 历年数据训练集概况
| 总数     | 无错误样本数目|
|---------|-------------|
| 54757   |  6021       |

## lang8+历年数据训练集
文本生成任务的训练需要使用2个数据集合并后的数据集，因此将**lang8_v2**版本数据与历年训练集**detect_all_data**合并构造成lang8+历年数据训练集